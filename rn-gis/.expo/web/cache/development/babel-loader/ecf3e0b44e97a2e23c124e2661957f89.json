{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\yonat\\\\OneDrive\\\\\\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD\\\\React-Native-GIS-Course-App\\\\rn-gis\\\\components\\\\Homepage.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport * as Location from 'expo-location';\nimport MapView from 'react-native-maps';\n\nfunction Homepage(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      location = _useState2[0],\n      setLocation = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorMsg = _useState4[0],\n      setErrorMsg = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      citiesNearLocationMode = _useState6[0],\n      setCitiesNearLocationMode = _useState6[1];\n\n  useEffect(function () {\n    ;\n\n    (function _callee() {\n      var _await$Location$reque, status, location;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Location.requestForegroundPermissionsAsync());\n\n            case 2:\n              _await$Location$reque = _context.sent;\n              status = _await$Location$reque.status;\n\n              if (!(status !== 'granted')) {\n                _context.next = 7;\n                break;\n              }\n\n              setErrorMsg('Permission to access location was denied');\n              return _context.abrupt(\"return\");\n\n            case 7:\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 9:\n              location = _context.sent;\n              setLocation({\n                latitude: location.coords.latitude,\n                longitude: location.coords.longitude,\n                latitudeDelta: 0.922,\n                longitudeDelta: 0.0421\n              });\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n  var text = 'Waiting..';\n\n  if (errorMsg) {\n    text = errorMsg;\n  } else if (location) {\n    text = JSON.stringify(location);\n  }\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 3\n    }\n  }, React.createElement(View, {\n    style: styles.top,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, \"GIS Course App - Check nearest locations\"), React.createElement(TextInput, {\n    placeholder: \"Select radius in meters\",\n    keyboardType: \"decimal-pad\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  })), React.createElement(MapView, {\n    initialRegion: location,\n    showsUserLocation: true,\n    showsCompass: true,\n    rotateEnabled: false,\n    style: styles.map,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }\n  }), React.createElement(View, {\n    style: styles.bottom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }\n  }, React.createElement(Button, {\n    title: \"Check for cities near location\",\n    onPress: function onPress() {\n      return navigation.navigate('NearestCities');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }), React.createElement(Button, {\n    title: \"something else?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  })));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  top: {\n    flex: 0.5,\n    alignItems: 'center',\n    marginTop: '5%'\n  },\n  bottom: {\n    flex: 1\n  },\n  header: {\n    textAlign: 'center'\n  },\n  map: {\n    flex: 4\n  }\n});\nexport default Homepage;","map":{"version":3,"sources":["C:/Users/yonat/OneDrive/מסמכים/React-Native-GIS-Course-App/rn-gis/components/Homepage.js"],"names":["React","useEffect","useState","Location","MapView","Homepage","navigation","location","setLocation","errorMsg","setErrorMsg","citiesNearLocationMode","setCitiesNearLocationMode","requestForegroundPermissionsAsync","status","getCurrentPositionAsync","latitude","coords","longitude","latitudeDelta","longitudeDelta","text","JSON","stringify","styles","container","top","header","map","bottom","navigate","StyleSheet","create","flex","backgroundColor","alignItems","marginTop","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { StyleSheet, Text, View, TextInput, Button } from 'react-native'\r\nimport * as Location from 'expo-location'\r\nimport MapView from 'react-native-maps'\r\n\r\nfunction Homepage({ navigation }) {\r\n\tconst [location, setLocation] = useState(null)\r\n\tconst [errorMsg, setErrorMsg] = useState(null)\r\n\tconst [citiesNearLocationMode, setCitiesNearLocationMode] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\t;(async () => {\r\n\t\t\tlet { status } = await Location.requestForegroundPermissionsAsync()\r\n\t\t\tif (status !== 'granted') {\r\n\t\t\t\tsetErrorMsg('Permission to access location was denied')\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tlet location = await Location.getCurrentPositionAsync({})\r\n\t\t\tsetLocation({\r\n\t\t\t\tlatitude: location.coords.latitude,\r\n\t\t\t\tlongitude: location.coords.longitude,\r\n\t\t\t\tlatitudeDelta: 0.922,\r\n\t\t\t\tlongitudeDelta: 0.0421,\r\n\t\t\t})\r\n\t\t})()\r\n\t}, [])\r\n\r\n\tlet text = 'Waiting..'\r\n\tif (errorMsg) {\r\n\t\ttext = errorMsg\r\n\t} else if (location) {\r\n\t\ttext = JSON.stringify(location)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<View style={styles.top}>\r\n\t\t\t\t<Text style={styles.header}>\r\n\t\t\t\t\tGIS Course App - Check nearest locations\r\n\t\t\t\t</Text>\r\n\t\t\t\t<TextInput\r\n\t\t\t\t\tplaceholder='Select radius in meters'\r\n\t\t\t\t\tkeyboardType='decimal-pad'\r\n\t\t\t\t/>\r\n\t\t\t</View>\r\n\t\t\t<MapView\r\n\t\t\t\tinitialRegion={location}\r\n\t\t\t\tshowsUserLocation={true}\r\n\t\t\t\tshowsCompass={true}\r\n\t\t\t\trotateEnabled={false}\r\n\t\t\t\tstyle={styles.map}\r\n\t\t\t/>\r\n\t\t\t<View style={styles.bottom}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttitle='Check for cities near location'\r\n\t\t\t\t\tonPress={() => navigation.navigate('NearestCities')}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button title='something else?' />\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t)\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n\tcontainer: {\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: '#fff',\r\n\t},\r\n\ttop: {\r\n\t\tflex: 0.5,\r\n\t\talignItems: 'center',\r\n\t\tmarginTop: '5%',\r\n\t},\r\n\tbottom: {\r\n\t\tflex: 1,\r\n\t},\r\n\theader: {\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tmap: {\r\n\t\tflex: 4,\r\n\t},\r\n})\r\n\r\nexport default Homepage\r\n"]},"metadata":{},"sourceType":"module"}